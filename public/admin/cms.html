<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panneau dâ€™administration</title>

    <style>
      /* ğŸ”¹ RÃ©initialisation complÃ¨te de base */
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
        background: #f7f7f5;
        font-family: system-ui, sans-serif;
      }

      /* ğŸ”¹ Conteneur principal DecapCMS */
      #nc-root {
        all: unset; /* efface tout hÃ©ritage */
        display: block !important;
        position: relative !important;
        width: 100%;
        height: 100vh;
        overflow: auto;
        transform: none !important; /* empÃªche tout dÃ©calage du header */
      }

      /* ğŸ”¹ Fix du header */
      .nc-appHeader {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 9999 !important;
        background: #ffffff !important;
        border-bottom: 1px solid #ddd !important;
      }

      /* ğŸ”¹ DÃ©calage du contenu pour ne pas passer sous le header */
      .nc-appMain {
        margin-top: 70px !important;
      }
    </style>
  </head>

  <body>
    <h2 style="text-align:center;margin-top:2rem;">Chargement du panneau dâ€™administration...</h2>

    <script>
      // âœ… Charger DecapCMS proprement et attendre son initialisation
      const script = document.createElement("script");
      script.src = "https://unpkg.com/decap-cms@3.9.0/dist/decap-cms.js";
      script.onload = () => {
        console.log("âœ… DecapCMS chargÃ© !");
        window.CMS_MANUAL_INIT = true;
        if (window.initCMS) {
          window.initCMS();
        } else {
          console.error("âŒ Erreur : initCMS non trouvÃ© !");
        }
      };
      document.body.appendChild(script);
    </script>
  </body>
</html>
